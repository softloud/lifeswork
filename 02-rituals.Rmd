# rituals {#rituals}

```{r packages, message=FALSE}
# packages used in this chapter
library(dontpanic)
library(tidyverse)
library(googlesheets)

```

```{r import data, message=FALSE}
# scrape googlesheet
measures <- gs_key(measures_gs_key)

# should extract the ws read for just
# wrangling
daily_tasks <- get_daily_tasks()
workload_key <- get_workload_key()

# better to pipe gs read into a wrangling function

signifiers <- measures %>% gs_read("signifiers")
day_view <- measures %>% gs_read("day_view")

```


## instantiate

Ask albert to instantiate.

`r quaver()` top of today's [daily log](#daily-log) and [day view](#dayview:day-view).

Date with 

```{r translate date, message=FALSE}
today_date()

```

<blockquote class="twitter-tweet" data-conversation="none" data-lang="en"><p lang="und" dir="ltr"><a href="https://t.co/wrCNDIcdLt">pic.twitter.com/wrCNDIcdLt</a></p>&mdash; Charles T. Gray (@cantabile) <a href="https://twitter.com/cantabile/status/1132475140967550976?ref_src=twsrc%5Etfw">May 26, 2019</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

Draw up  [day view](#dayview:day-view). 

In `r quaver()` daily log, add priority daily tasks $*$ `r quaver()`  $+ \psi$, with $*$ `r quaver()` added to [projects](#dayview:day-view).

In `r fermata()` [waiting](#dayview:day-view), schedule other [daily tasks](#daily-tasks) `r quaver()` $\sim \varnothing$. 

Add > $*+\pi\cdot$ [housework](#housework) $\sharp$ tasks and $\sharp \pi \cdot$ coffee to `r quaver()` daily log. You deserve it. 

Add [$\overline o$](#review) and $\pi$ to the [order of events](#dayview:order-of-events).


<blockquote class="twitter-tweet" data-conversation="none" data-lang="en"><p lang="und" dir="ltr"><a href="https://t.co/yEKIgDcBGE">pic.twitter.com/yEKIgDcBGE</a></p>&mdash; Charles T. Gray (@cantabile) <a href="https://twitter.com/cantabile/status/1132482396127780864?ref_src=twsrc%5Etfw">May 26, 2019</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>


## day view {#dayview:day-view}

```{r dayview table}
day_view %>% 
  # create links
  mutate(tracker = paste0("[", tracker, "](",ref,")")) %>% 
  select(-ref) %>% 
  lifeswork_table()

```

<blockquote class="twitter-tweet" data-conversation="none" data-lang="en"><p lang="und" dir="ltr"><a href="https://t.co/yEKIgDcBGE">pic.twitter.com/yEKIgDcBGE</a></p>&mdash; Charles T. Gray (@cantabile) <a href="https://twitter.com/cantabile/status/1132482396127780864?ref_src=twsrc%5Etfw">May 26, 2019</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>


## daily tasks {#daily-tasks}

```{r}

wrangle_tasks <- function(tasks){
  tasks %>% 
  mutate(priority = map_chr(priority, knittify_latex),
         context = map_chr(context, knittify_latex),
         category = map_chr(category, knittify_latex)) %>% 
  lifeswork_table()
}

```



### $*$

```{r priority tasks, echo=FALSE}
daily_tasks %>% 
  dplyr::filter(priority == "star") %>% 
  wrangle_tasks()


```

### $* \sharp${#housework}

```{r housework}

daily_tasks %>% 
  filter(str_detect(.$category, "pi"),
         str_detect(.$context, "sharp"),
         str_detect(.$priority, "star")) %>% 
  wrangle_tasks()

```


### $\sim$

```{r anxiety tasks}
daily_tasks %>% 
  filter(priority == "sim") %>% 
  wrangle_tasks()

```

### $\varnothing$

```{r nullset tasks}
daily_tasks %>% 
  filter(priority == "varnothing",
         category != "pi") %>% 
  wrangle_tasks()
```


### $\pi$


```{r pi}
daily_tasks %>% 
  filter(category == "pi") %>%
  wrangle_tasks()

```


## email

### process inbox

 Check inbox once a day.
 
 - archive [and label] emails that don't require actions
 - if I know what I want to say, best to do it now
 - if it's going to be lengthy or $\sim$, label as `needs action` 
 
### needs action

- start from the bottom, gmail doesn't sort descending
- write a next action
- migrate task to $\sim$ [todo: quaver] $+ \sim$
- can stop after one pom on this each day

## **`review`** {#review}

### daily log {#dayview:daily-log}

This is the hard part.

Pare down to one active project per category and process daily list to end of log. 

Cross through actions above. 

#### if this project will take more than a day

- if ($*$) or ($\sim$), create project for next step and migrate to projects waiting to progress
- else if associated with a repo, migrate to issues 
- else migrate to [monthly log](#monthly-log)

- add [signifiers](#signifiers) 
- log projects in [day view](#day-view) tracker
- add projects from [monthly log](#monthly-log) if all $*$ and $\sim$ have been completed
- aim to progress at least one $*$ from the [monthly log](#monthly-log)

### day view

This is the sparkjoy bit.

- count poms
- log goals
- top up projects from [projects waiting](#projects-waiting) to maximum three active projects, one per category
- assign task cycles
    - exclude $\varnothing$ categories with no $*$ and $\sim$ projects where current goal has already been met in poms by category
    - always finish with scheduling review $\overline o$
    - consider including a [sparkjoy](https://en.wikipedia.org/wiki/Marie_Kondo) project
- calculate remaining poms

### assess 

plan poms and $\pi$ to next goal

Calculate number of poms I can realistically do, the floor of 
$$
14 - t - \frac 3 2 c
$$
where $t$ denotes the number of hours of travel, and $c$ the number of hours of _community_, where the lattter includes teaching, outreach, and research collaborations. That, is I aim to draw a distinction between self-directed time, and time where I have the benefit of external motivations.

```{r calculate pom goals}
# todo: import tidyverse into dontpanic

library(tidyverse)

# output as of this update

# todo: add dataset arg to fn

dontpanic::calculate_pom_goal(
  travel_hrs = 0, # no travel today
  community_hrs = 0 # no teaching, meetings today
)


```



### minibreak peeps

- social media & slack

## task cycle

shorthand | description
- | -
$\forall *$ | complete all priority ($*$) tasks
$\sim \geqslant 1$ | complete at least one anxiety ($\sim$) task
$\varnothing \geqslant 0$ | complete any or none of the untagged tasks 
$\cdot \geqslant 1$ | write down as many next actions as I can think of
$\overline o$ | [review](#review)

## monthly log {#monthly-log}

List of projects that will take longer than a day.

Need to incorporate this into managing papers.

<blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">Chatting to a colleague and told them about the 30:80 model of writing a manuscript that I find really useful - thought I&#39;d share it here to see if anyone else had something similar...? <a href="https://twitter.com/hashtag/writing?src=hash&amp;ref_src=twsrc%5Etfw">#writing</a> <a href="https://twitter.com/hashtag/academicwriting?src=hash&amp;ref_src=twsrc%5Etfw">#academicwriting</a> (1/7)</p>&mdash; Neal Haddaway (@nealhaddaway) <a href="https://twitter.com/nealhaddaway/status/1125265808194768896?ref_src=twsrc%5Etfw">May 6, 2019</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>


## pom goals {#dayview:goals}

pom := 20 minutes

```{r pom goals table, echo=FALSE, eval=FALSE}
workload_key %>% 
  select(-phi_hrs, -theta_hrs, -psi_hrs, -exercise_hrs) %>% 
  lifeswork_table()

```

<blockquote class="twitter-tweet" data-conversation="none" data-lang="en"><p lang="und" dir="ltr"><a href="https://t.co/MGRLiYviCX">pic.twitter.com/MGRLiYviCX</a></p>&mdash; Charles T. Gray (@cantabile) <a href="https://twitter.com/cantabile/status/1132502062397214720?ref_src=twsrc%5Etfw">May 26, 2019</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>


## pom tracker {#dayview:pom-tracker}

## projects {#dayview:projects}

## task cycles {#dayview:task-cycles}

## `r quavers()` progressed {#dayview:progressed}

## waiting {#dayview:waiting}


## order of events {#dayview:order-of-events}

Day begins with [review](#review) $\overline o$.

### workday

Alternate events:

- $\not n + 2$ poms
- $\pi$

Around other events such as meetings. 

### wake up

- wake up
- [read]
- wash & dress
- [yoga]
- [day view]{#day-view}
- [yoga]

### evening

- bathtime + reading
- bed

## signifiers {#signifiers}

> todo: create a signifiers sheet

```{r  echo=FALSE}

signifiers %>% 
  mutate(signifier = paste0("$", signifier, "$")) %>% 
  knitr::kable()

```

## playlists

### for the good days

<iframe src="https://open.spotify.com/embed/user/acgray101/playlist/3dAEbZZlfN3qoZKbJdwFBE" width="300" height="380" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>

### for the not so good days

<iframe src="https://open.spotify.com/embed/user/acgray101/playlist/5koDEJPBsLsLPDxBKKAh7F" width="300" height="380" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>